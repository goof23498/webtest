<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>가위바위보 – HTML 미니게임</title>
  <meta name="description" content="순수 HTML/CSS/JS로 만든 반응형 가위바위보 게임" />
  <style>
    :root{--bg:#0b1020;--panel:#101933;--soft:#16224a;--text:#eaf2ff;--muted:#a9b5d8;--brand:#0ea5e9;--win:#22c55e;--lose:#ef4444;--draw:#f59e0b;--radius:18px}
    @media (prefers-color-scheme: light){:root{--bg:#f6fbff;--panel:#ffffff;--soft:#eef4ff;--text:#101827;--muted:#475569}}
    *{box-sizing:border-box}
    html,body{margin:0;padding:0}
    body{font-family:ui-sans-serif,system-ui,"Noto Sans KR",Apple SD Gothic Neo,Segoe UI,Roboto,sans-serif;background:linear-gradient(120deg,rgba(14,165,233,.08),transparent),var(--bg);color:var(--text)}
    .wrap{max-width:920px;margin:0 auto;padding:28px 16px 60px}
    header{display:flex;align-items:center;justify-content:space-between;gap:12px;margin-bottom:12px}
    .badge{padding:.3rem .7rem;border-radius:999px;background:color-mix(in oklab,var(--brand) 20%,transparent);border:1px solid color-mix(in oklab,var(--brand) 40%,transparent)}
    .panel{background:var(--panel);border:1px solid color-mix(in oklab,var(--text) 12%,transparent);border-radius:var(--radius);padding:18px}
    .arena{display:grid;grid-template-columns:1fr 1fr;gap:14px}
    @media(max-width:720px){.arena{grid-template-columns:1fr}}
    h1{font-size:clamp(24px,4vw,40px);margin:.2rem 0 .3rem}
    .muted{color:var(--muted)}
    .score{display:flex;gap:10px;align-items:center;flex-wrap:wrap}
    .score .box{background:var(--soft);padding:10px 14px;border-radius:12px;border:1px solid color-mix(in oklab,var(--text) 10%,transparent)}
    .hand{font-size:72px;line-height:1;text-align:center}
    .vs{display:flex;align-items:center;justify-content:center;font-weight:700}
    .result{font-weight:700}
    .result.win{color:var(--win)}.result.lose{color:var(--lose)}.result.draw{color:var(--draw)}
    .choices{display:flex;gap:10px;flex-wrap:wrap;justify-content:center;margin-top:8px}
    button{background:var(--brand);color:#fff;border:0;border-radius:12px;padding:10px 14px;cursor:pointer}
    button.secondary{background:transparent;color:var(--text);border:1px solid color-mix(in oklab,var(--text) 18%,transparent)}
    button:disabled{opacity:.6;cursor:not-allowed}
    .log{max-height:220px;overflow:auto;font-family:ui-monospace,Consolas,Menlo,monospace;background:var(--soft);border-radius:12px;padding:12px;margin-top:10px;border:1px solid color-mix(in oklab,var(--text) 10%,transparent)}
    .footer{margin-top:22px;display:flex;gap:10px;justify-content:space-between;flex-wrap:wrap}
  </style>
</head>
<body>
  <div class="wrap">
    <header>
      <div>
        <span class="badge">HTML Mini Game</span>
        <h1>가위바위보</h1>
        <div class="muted">순수 HTML/CSS/JS · 로컬에서도 파일 더블클릭만으로 실행</div>
      </div>
      <div class="score">
        <div class="box">👤 나: <strong id="sMe">0</strong></div>
        <div class="box">🤖 컴퓨터: <strong id="sBot">0</strong></div>
        <div class="box">🎯 라운드: <strong id="round">0</strong></div>
      </div>
    </header>

    <section class="panel arena" aria-live="polite">
      <div>
        <div class="hand" id="meHand">❓</div>
        <div class="choices" role="group" aria-label="나의 선택">
          <button data-pick="✌️" aria-label="가위">✌️ 가위</button>
          <button data-pick="✊" aria-label="바위">✊ 바위</button>
          <button data-pick="🖐️" aria-label="보">🖐️ 보</button>
        </div>
      </div>
      <div>
        <div class="hand" id="botHand">❓</div>
        <div class="vs">결과: <span id="result" class="result">대기중…</span></div>
        <div class="choices">
          <button id="btnAuto" class="secondary" aria-pressed="false">자동 플레이 (x50)</button>
          <button id="btnReset" class="secondary">점수 초기화</button>
        </div>
      </div>
    </section>

    <section class="panel">
      <strong>기록</strong>
      <div class="log" id="log" aria-label="전적 기록" tabindex="0"></div>
      <div class="footer">
        <div class="muted">Tip: 키보드 <code>1</code>=가위 <code>2</code>=바위 <code>3</code>=보</div>
        <div class="muted">GitHub Pages / Netlify Drop에 그대로 올려서 실행하세요.</div>
      </div>
    </section>
  </div>

  <script>
    const picks = ["✌️","✊","🖐️"]; // 가위 바위 보
    const beats = {"✌️":"🖐️","✊":"✌️","🖐️":"✊"};

    const el = id=>document.getElementById(id);
    const sMe = el('sMe');
    const sBot = el('sBot');
    const round = el('round');
    const meHand = el('meHand');
    const botHand = el('botHand');
    const result = el('result');
    const log = el('log');

    let me=0, bot=0, r=0, lock=false;

    function pickBot(){ return picks[Math.floor(Math.random()*picks.length)]; }

    function play(myPick){
      if(lock) return;
      lock = true;
      const b = pickBot();
      meHand.textContent = myPick;
      botHand.textContent = '⏳';
      result.textContent = '판정중…';
      result.className = 'result';

      setTimeout(()=>{
        botHand.textContent = b;
        let res;
        if(myPick===b){ res='무승부'; result.classList.add('draw'); }
        else if(beats[myPick]===b){ res='승리!'; me++; result.classList.add('win'); }
        else { res='패배'; bot++; result.classList.add('lose'); }
        r++;
        sMe.textContent = me; sBot.textContent = bot; round.textContent = r;
        result.textContent = res;
        log.prepend(entry(r, myPick, b, res));
        lock = false;
      }, 350);
    }

    function entry(n, a, b, res){
      const d = document.createElement('div');
      d.textContent = `#${n}  나 ${a}  vs  컴퓨터 ${b}  → ${res}`;
      return d;
    }

    function auto(n=50){
      if(lock) return; 
      const btn = document.getElementById('btnAuto');
      btn.disabled = true; btn.setAttribute('aria-pressed','true');
      const loop = i=>{
        if(i>=n){ btn.disabled=false; btn.setAttribute('aria-pressed','false'); return; }
        play(picks[Math.floor(Math.random()*3)]);
        setTimeout(()=>loop(i+1), 120);
      };
      loop(0);
    }

    function reset(){ me=bot=r=0; sMe.textContent=sBot.textContent=round.textContent=0; meHand.textContent=botHand.textContent='❓'; result.textContent='대기중…'; result.className='result'; log.textContent=''; }

    document.querySelectorAll('button[data-pick]').forEach(b=>{
      b.addEventListener('click',()=>play(b.dataset.pick));
    });
    document.getElementById('btnAuto').addEventListener('click',()=>auto());
    document.getElementById('btnReset').addEventListener('click',reset);

    // 키보드 단축키: 1=가위,2=바위,3=보
    window.addEventListener('keydown',e=>{
      if(e.key==='1') play('✌️');
      if(e.key==='2') play('✊');
      if(e.key==='3') play('🖐️');
    });
  </script>
</body>
</html>
